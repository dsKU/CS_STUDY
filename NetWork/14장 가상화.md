# 14장 가상화 기술

### NV (Network Virtualization : 네트워크 가상화)
> 하드웨어 기반의 네트워크를 소프트웨어 기반의 네트워크로 바꾸는 것.
> 물리적 하드웨어와 해당 하드웨어를 활용하는 활동 사이에 추상화 레이어를 도입하는 것.
> 네트워크 기능, 하드웨어 리소스, 소프트웨어 리소스를 하드웨어와 별도의 가상 네트워크로 전달할 수 있게 해주는 것으로서, 여러 물리적 네트워크를 통합하거나 
> 그러한 네트워크를 세분화하거나, 가상 머신(VM)을 함께 연결하는 데 사용

### NFV (Network Funtions Virtualization : 네트워크 기능 가상화)
> 기존의 네트워크 장비들은 SW가 HW에 종속되어 있는 구조
> 이런 구조는 하드웨어 자원 효율이 높지 않고, 신규 서비스 도입을 복잡하게 함. 소프트웨어를 네트워크에 적용하려면 항상 하드웨어를 먼저 구축해야함
> NFV는 전용 하드웨어 기반에서 동작하는 네트워크 기능을 범용 x86 서버 기반에서 수행
> 하드웨어 중심의 네트워크를 구성하려면 오래걸리지만 , NFV는 몇 분이면 충분하고 필요한 자원만큼 할당 가능

> 스위치나 라우터 등의 물리적 네트워크 장비 기능을 가상화하여 VM이나 컨테이너 또는 범용 프로세서를 탑재한 하드웨어서 구동하는 방식

### SDN (Software Defined Networking : 사용자 정의 네트워크)
> 소프트웨어를 통해 네트워크 리소스를 가상화하고 추상화하는 네트워크 인프라에 대한 접근 방식을 의미
https://suyeon96.tistory.com/48

### VLAN
+ 물리적 배치와 상관없이 논리적으로 LAN을 구성할 수 있는 기술(????)
> 하나의 스위치가 있고 이 스위치에는 포트가 1~10 까지 있다고 하자. 1~5 를 VLAN 1 로 6~10을 VLAN 2 로 설정했다면 물리적으로 같은 스위치에 존재해도 VLAN 1과 VLAN 2는 서로 통신할 수 없음.
+ 스위치는 원래 연결된 모든 포트를 브로드캐스트 도메인에 포함시키지만 VLAN을 적용하면 일부를 하나의 브로드캐스트 도메인으로 구성하고 등등해서 여러개의 도메인을 만들 수 있음.
  -> 불필요한 브로드캐스트를 줄일 수도 있는거임
  
+ 얻는 이득
  + 네트워크 리소스의 보안 향상
  + 비용절감
  + 불필요한 트래픽 줄임
  + 관리자의 네트워크 설정작업 용이

https://onecellboy.tistory.com/278
  
## 14.1 장비 가상화 기술이란?
+ 분류
  + 여러 개의 물리 장비를 하나의 논리 장비로 
  + 하나의 물리 장비를 여러 개의 논리 장비로

+ 주의사항
  + 물리 장비 하나에서 동일한 역할을 논리적으로 나누어 사용X
  + 논리적으로 구성된 장비가 물리 리소스를 독집적으로 할당해 사용하더라도 물리 장비에서 장에가 발생하면 논리 장비 모두 서비스의 영향을 받음으로 동일한 역할을 하는 장비의 이중화 구성을 하나의 물리 장비에서 구성X
  
## 14.2 벤더별 장비 가상화 기술: 하나의 논리 장비로 만드는 가상화
+ 하나의 물리 서버에 여러개의 가상 서버를 구성하는 서버 가상화, 네트워크도 포함
+ VLAN도 포함
+ 하이퍼바이저를 이용한 가상화 형대로 나누거나 벤더 자체 솔루션을 이용
+ 장점
  + 운용 시 관리 포인트 감소
  + 각 서비스에 대해 개별적으로 동작해도 운영에서는 하나의 장비로 관리해서 관리 부하를 줄임(???)
  + 자원 활용률 증가
  + 도입 비용과 운영 비용 절감

### 시스코
+ VSS ( Virtual Switching System )
  + VSL(Virtual Switching Link)로 장비를 연결해 하나의 가상 스위치를 만듬.
  + 최대 두 대의 물리 장비를 한 대의 가상 스위치로 구성
  + 시스템에서 운영할 수 있는 대역폭 확장 + 가용성 증대
  
+ StackWise/FlexStack
  + StackWise나 FlexStack은 최대 8~9대의 스위치를 하나의 가상 스위치로 구성
  + 같은 스택 구성은 일반 포트를 사용하지 않고 스위치 후면에 있는 별도 스택 구성용 모듈이나 케이블을 사용해 데이지 체인(Daisy Chain) 형태로 구성
  + 장비 간 통신을 위한 데이터 케이블뿐만 아니라 경우에 따라 전원도 동일한 방식으로 구성
  
+ FEX ( Fabric Extender )
  + 하나의 스위치를 다른 장비의 모듈 형태로 구성
  + FEX 장비에는 별도의 운영체제가 없고 상단 스위치의 운영체제 그대로 사용
  + FEX는 ToR와 같은 용도로 사용하면 각 랙 서버들은 상단 FEX와 연결되지만 관리는 상단 스위치에서

### 주니퍼
+ 가상 섀시
  + 여러 개의 스위치를 링(Ring) 형태의 토폴로지로 연결해 하나의 장비처럼 관리
  + 최대 10대의 장비를 스택으로 구성
  + 장비 간 연결을 위해 VCP(Virtual Chassis Port) 전용 포트를 사용하는 모델도 있지만 VCP 포트가 없으면 일반 업링크(Uplink) 포트를 사용해 장비를 연결 가능
  
+ VCF ( Virtual Chassis Fabric )
  + 여러 개의 물리 스위치를 하나의 가상 섀시 패브릭 장비로 구성
  + 스파인-리프 형태로 디자인하고 스파인은 2~4대를 포함해 최대 20대의 장비를 패브릭 멤버로 구성
  + VCF는 16개 랙 규모의 PoD(Point of Delivery) 사이즈에 적합
  
+ 주노스 퓨전
  + VCF보다 대규모에 적용
  + 주노스 퓨전은 유형에 따라 3가지 아키텍처로 나뉨
    + Junos Fusion Provider Edge
    + Junos Fusion Data Center
    + Junos Fusion Enterprise
	
### 익스트림
+ VCS(Virtual Cluster Switching)
  + 여러 개의 스위치를 하나의 클러스터 형태의 가상 스위치로 구성
  + VCS 클러스터로 구성된 스위치는 별다른 설정 없이 스위치간 ISL(Inter-Switch Link)을 구성하는 것만으로 VCS 클러스터에 자동으로 묶이므로 네트워크 스위치의 손쉬운 스케일 아웃(Scale-out)을 지원

### HP 엔터프라이즈
+ IRF(Inteligent Resilient Fabric)
  + 여러 대의 스위치를 하나의 가상 스위치로 구성
  + 다른 계층과 다른 모델 스위치도 하나의 논리적 스위치로 구성 가능
  
## 14.3 벤더별 장비 가상화 기술: 여러 개의 논리 장비로 만드는 가상화
+ 장점
  + 다수의 장비를 하나의 장비처럼 관리 -> 운영자의 관리 부하를 줄여줌
  + 이중화 경로를 효율적으로 사용, 루프 문제 해결

+ 주의사항
  + 각 서비스별 영역이 요구하는 성능을 물리 장비에서 제공할 수 있어야함.
  + 기능면에서 물리 장비에서 제공되는 기능이 논리적으로 가상화한 경우에도 정상저긍로 제공되는지 확인

+ LACP, MC-LAG가 여기에 포함됨

### 시스코
+ VDC ( Virtual Device Context )
  + 하나의 물리 스위치를 최대 8개의 논리 스위치로 나누어 사용
  + VDC 별로 독립적인 설정(Configuration)과 소프트웨어 프로세스가 동작하며 전체 리소스를 VDC별로 분할해 사용
  + 각 VDC에 별도로 권한을 부여해 관리할 수 있고 가상으로 나눈 VDC마다 관리자를 부여할 수도 있음
  + 전체 VDC를 관리할 수 있는 별도의 관리 VDC(Admin VDC)도 지원하여 전체 총괄 관리자도 함께 둘 수 있음

### F5
+ vCMP ( Virtual Clustered Multi Processing )
  + 나누어지는 개별 가사오하 장비를 Guest라고 하며 각 Guest 장비에는 개별적으로 CPU 코어를 할당할 수 있고 할당된 CPU 자원을 독립적으로 사용 가능
  + 해당 자원은 가상화 장비 간에 독립적으로 동작해 특정 가상화 장비의 사용량이 늘어도 다른 가상화 장비에 영향 없음
  + 개별적으로 동작해 가상화 장비 간에 다른 버전의 운영체제 사용 가능
  
### 포터넷
+ VDOM ( Virtual Domain )
  + 전 가상화 시스템과 VRF(Virtual Routing and Forwarding)의 중간 수준의 가상화 기능을 제공
  + 일반 네트워크장비는 VRF를 이용해 라우팅을 분리하는 것만으로도 다양한 효과를 얻음
  + but 방화벽은 일반 네트워크 장비와 달리 네트워크 부분과 정책 관리 및 적용 부분으로 나누어져 있어 라우팅 분리만으로는 부족
  + VDOM은 라우팅뿐만 아니라 정책 단위로 시스템 전체를 가상화

### 시트릭스
+ MPX
  + 
+ VPX
  + 


